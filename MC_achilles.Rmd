---
title: "Bioinfo 4"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

load("/Users/moritzcarlonaeumann/Documents/GitHub/2021-topic-01-team-04/Data/cellline_datasets.rda")
load("/Users/moritzcarlonaeumann/Documents/GitHub/2021-topic-01-team-04/Data/prism_datasets.rda")
```

```{r}
which(prism.cl[,20] %in% rownames(prism.achilles))
```

```{r}
a <- c(1:481)
for(n in 1:481) {a[n] <- (prism.cl[n,1] %in% rownames(prism.achilles))}
dim(prism.cl.achilles)
a
prism.cl[3,20]
b <- which(a == 0)
prism.cl.achilles <- prism.cl[-b, ]
dim(prism.cl.achilles)
```
```{r}
for(n in 1:481) {prism.cl[n,20] %in% rownames(prism.achilles)}
```
```{r}
keep.rows = apply(prism.cl,1,function(x){prism.cl[x,1] %in% rownames(prism.achilles) })
keep.rows
```

Find PanCan Cellines in prism.cl.achilles
```{r}
prism.cl.pancan <- c(which(prism.cl.achilles[,20] == 'Pancreatic Cancer'))
pancan.cl.names <- prism.cl[prism.cl.pancan,1]
pancan.cl.names
which(prism.cl.achilles[,20] == 'Pancreatic Cancer')
```

The data frame prism.achilles consists of gene knockdown scores. The score is a measure of how essential/important is a particular gene for the cell survival. This score reflects whether upon knocking down that genes does the cell reduce its proliferation or increases it or has no change. Smaller values refers to higher essentiality. The rows of this matrix are the gene names and the columns are the cancer cell line identifiers.

Exploration
```{r}
dim(prism.achilles)
prism.achilles[1:3,1:4]
```
Na Cleanup
```{r}
prism.achilles.clean <- na.omit(prism.achilles)
dim(prism.achilles.clean)
which(is.na(prism.achilles.clean[,3]))
is.na(prism.achilles.clean[1:3,3:10])

```


```{r}
prism.achilles[pancan.cl.names,]
which(is.na(prism.achilles[pancan.cl.names,1]))
```

Cleanup
```{r}

prism.achilles.pancan <- prism.achilles[d,]
sum(is.na(prism.achilles.pancan))
which(is.na(prism.achilles.pancan))
which(is.na(prism.achilles[,1:350]))
rownames(prism.achilles[(which(is.na(prism.achilles[,1:100]))),])
```

## Including Plots for prism.achilles.pancan


```{r}
prism.achilles.pancan.numeric <- apply(prism.achilles.pancan, 2, as.numeric)
prism.achilles.numeric <- apply(prism.achilles, 2, as.numeric)
```

```{r}
is.numeric(prism.achilles.pancan.numeric[1:2,2])
hist(prism.achilles.pancan.numeric[1,])
hist(prism.achilles.numeric[1,])
quantile(prism.achilles.pancan.numeric,probs=seq(0,1,.1))
```
```{r}
quantile(na.omit(prism.achilles.numeric,probs=seq(0,1,.1)))
prism.achilles.numeric.no.na <- na.omit(prism.achilles.numeric)
```
```{r}
prism.achilles.numeric.no.na <- rbind(prism.achilles.numeric.no.na, apply(prism.achilles.numeric.no.na,2,mean))
dim(prism.achilles.numeric.no.na)
prism.achilles.numeric.no.na[345:348,1:5]
rownames(prism.achilles.numeric.no.na) <- rownames(prism.achilles)
```
```{r}
summary()
```

