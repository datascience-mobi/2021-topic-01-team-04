---
title: "DataCleanupTreatment"
author: "Autumn"
date: "02/06/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
source("Scripts/Presets.R")
source("Scripts/Functions.R")
```


```{r}
# removing void rows and columns from prism

clean <- row.col.cleaner(prism)
prism.clean <- as.data.frame(clean[1])
prism.fin.clean <- as.data.frame(clean[2])
rm(clean)
```


```{r}
# extract pancreatic cancer cell line data and remove void rows and columns 

clean <- row.col.cleaner(prism.extractor(prism))
pancan.clean <- as.data.frame(clean[1])
pancan.fin.clean <- as.data.frame(clean[2])
rm(clean)

extraction.verifier(pancan.clean); extraction.verifier(pancan.fin.clean)
```


```{r}
# getting pancreatic cancer disease subtypes

pancan.sts <- levels(factor(prism.cl[which(prism.cl[, "disease"] == "Pancreatic Cancer"), "disease_subtype"]))
pancan.sts

# splitting pancreatic cancer in divergent subtype dfs 



```


```{r}
st.splitter(pancan.clean)
```


```{r}
hist(apply(df.NA.to.val(pancan.clean, 2, "norm"), 2, mean), breaks = 10, main = "Histogram of Drug Efficacy across Pancreatic Cancer Cell Lines", xlab = "Mean Drug Effect")
```


Which drugs have a negative impact on general cell growth?

```{r}
ef.dr.identifier(prism.clean, -6)
```


Which drugs have a negative impact on pancreatic cancer cell growth?

```{r}
ef.dr.identifier(pancan.clean, -6)
```


Which drugs have a negative impact on cell growth of pancreatic cancer subtypes?

```{r}
ef.dr.identifier(`Pancreatic Cancer Subtype: Ductal Adenocarcinoma, exocrine`, -6)
```

```{r}
ef.dr.identifier(`Pancreatic Cancer Subtype: Ductal Adenosquamous Carcinoma`, -6)
```

```{r}
ef.dr.identifier(`Pancreatic Cancer Subtype: Ductal Adenosquamous Carcinoma, exocrine`, -6)
```

```{r}
ef.dr.identifier(`Pancreatic Cancer Subtype: Somatostatinoma`, -6)
```

