dnorm(c(2, 4, 56,6,2, 21, 32,5, 657, 4, 3,11,345), mean(c(2, 4, 56,6,2, 21, 32,5, 657, 4, 3,11,345)), sd(c(2, 4, 56,6,2, 21, 32,5, 657, 4, 3,11,345)))
pnorm(c(2, 4, 56,6,2, 21, 32,5, 657, 4, 3,11,345), mean(c(2, 4, 56,6,2, 21, 32,5, 657, 4, 3,11,345)), sd(c(2, 4, 56,6,2, 21, 32,5, 657, 4, 3,11,345)))
quantiles(c(2, 4, 56,6,2, 21, 32,5, 657, 4, 3,11,345))
quantile(c(2, 4, 56,6,2, 21, 32,5, 657, 4, 3,11,345))
apply(prism.clean, 2, quantile, probs = 1 - threshold, na.rm = T)
apply(prism.clean, 2, quantile, probs = 1 - .2, na.rm = T)
quantile(apply(prism.clean, 2, mean, na.rm = T), probs = 1 - .2, na.rm = T)
quantile(apply(prism.clean, 2, mean, na.rm = T), probs = .2, na.rm = T)
quantile(apply(prism.clean, 2, mean, na.rm = T), probs = .1, na.rm = T)
quantile(apply(prism.clean, 2, mean, na.rm = T), probs = .01, na.rm = T)
quantile(apply(prism.clean, 2, mean, na.rm = T), probs = .001, na.rm = T)
apply(prism.clean, 2, mean, na.rm = T), probs = .001, na.rm = T
apply(prism.clean, 2, mean, na.rm = T)
names(which(apply(prism.clean, 2, mean, na.rm = T) > -7.11))
names(which(apply(prism.clean, 2, mean, na.rm = T) < -7.11))
knitr::opts_chunk$set(echo = TRUE)
source("Scripts/Initiator.R")
hist(apply(df.NA.to.val(prism.clean, 2, "median"), 2, mean), breaks=20, main="Drug Efficacy across Pancreatic Cancer Cell Lines", xlab="Mean Logfold Drug Effect on Cell Growth", ylab="Number of Drugs")
#ef.caller(threshold = c(-7.3, -7, -7, -8, -7.5, -7.5), greaterthan = F, addat = c("prism.clean", "pancan.clean"))
ef.dr.identifier(prism.clean, -7.3, F)
ef.dr.identifier(pancan.clean, -7, F)
ef.dr.identifier(get(st.split.vars[1]), -7, F)
ef.dr.identifier(get(st.split.vars[2]), -8, F)
ef.dr.identifier(get(st.split.vars[3]), -7.5, F)
ef.dr.identifier(get(st.split.vars[4]), -7.5, F)
knitr::opts_chunk$set(echo = TRUE)
source("Scripts/Initiator.R")
hist(apply(df.NA.to.val(prism.clean, 2, "median"), 2, mean), breaks=20, main="Drug Efficacy across Pancreatic Cancer Cell Lines", xlab="Mean Logfold Drug Effect on Cell Growth", ylab="Number of Drugs")
#ef.caller(threshold = c(-7.3, -7, -7, -8, -7.5, -7.5), greaterthan = F, addat = c("prism.clean", "pancan.clean"))
ef.dr.identifier(prism.clean, "q.001", F)
knitr::opts_chunk$set(echo = TRUE)
source("Scripts/Initiator.R")
hist(apply(df.NA.to.val(prism.clean, 2, "median"), 2, mean), breaks=20, main="Drug Efficacy across Pancreatic Cancer Cell Lines", xlab="Mean Logfold Drug Effect on Cell Growth", ylab="Number of Drugs")
#ef.caller(threshold = c(-7.3, -7, -7, -8, -7.5, -7.5), greaterthan = F, addat = c("prism.clean", "pancan.clean"))
ef.dr.identifier(prism.clean, "q.001", F)
knitr::opts_chunk$set(echo = TRUE)
source("Scripts/Initiator.R")
hist(apply(df.NA.to.val(prism.clean, 2, "median"), 2, mean), breaks=20, main="Drug Efficacy across Pancreatic Cancer Cell Lines", xlab="Mean Logfold Drug Effect on Cell Growth", ylab="Number of Drugs")
#ef.caller(threshold = c(-7.3, -7, -7, -8, -7.5, -7.5), greaterthan = F, addat = c("prism.clean", "pancan.clean"))
ef.dr.identifier(prism.clean, "q.001", F)
knitr::opts_chunk$set(echo = TRUE)
source("Scripts/Initiator.R")
hist(apply(df.NA.to.val(prism.clean, 2, "median"), 2, mean), breaks=20, main="Drug Efficacy across Pancreatic Cancer Cell Lines", xlab="Mean Logfold Drug Effect on Cell Growth", ylab="Number of Drugs")
#ef.caller(threshold = c(-7.3, -7, -7, -8, -7.5, -7.5), greaterthan = F, addat = c("prism.clean", "pancan.clean"))
ef.dr.identifier(prism.clean, "q.001", F)
ef.dr.identifier(pancan.clean, "q.001", F)
ef.dr.identifier(get(st.split.vars[1]), "q.001", F)
ef.dr.identifier(get(st.split.vars[2]), "q.001", F)
ef.dr.identifier(get(st.split.vars[3]), "q.001", F)
ef.dr.identifier(get(st.split.vars[4]), "q.001", F)
knitr::opts_chunk$set(echo = TRUE)
source("Scripts/Initiator.R")
hist(apply(df.NA.to.val(prism.clean, 2, "median"), 2, mean), breaks=20, main="Drug Efficacy across Pancreatic Cancer Cell Lines", xlab="Mean Logfold Drug Effect on Cell Growth", ylab="Number of Drugs")
#ef.caller(threshold = c(-7.3, -7, -7, -8, -7.5, -7.5), greaterthan = F, addat = c("prism.clean", "pancan.clean"))
ef.dr.identifier(prism.clean, "q.001", greaterthan =  F)
ef.dr.identifier(pancan.clean, "q.001", F)
ef.dr.identifier(get(st.split.vars[1]), "q.001", F)
ef.dr.identifier(get(st.split.vars[2]), "q.001", F)
ef.dr.identifier(get(st.split.vars[3]), "q.001", F)
ef.dr.identifier(get(st.split.vars[4]), "q.001", F)
quantile(apply(prism.clean, 2, mean, na.rm = T), probs = .001, na.rm = T)
names(which(apply(prism.clean, 2, mean, na.rm = T) < quantile(apply(prism.clean, 2, mean, na.rm = T), probs = .001, na.rm = T))
)
knitr::opts_chunk$set(echo = TRUE)
source("Scripts/Initiator.R")
hist(apply(df.NA.to.val(prism.clean, 2, "median"), 2, mean), breaks=20, main="Drug Efficacy across Pancreatic Cancer Cell Lines", xlab="Mean Logfold Drug Effect on Cell Growth", ylab="Number of Drugs")
#ef.caller(threshold = c(-7.3, -7, -7, -8, -7.5, -7.5), greaterthan = F, addat = c("prism.clean", "pancan.clean"))
ef.dr.identifier(prism.clean, "q.001", greaterthan =  F)
ef.dr.identifier(pancan.clean, "q.001", F)
ef.dr.identifier(get(st.split.vars[1]), "q.001", F)
ef.dr.identifier(get(st.split.vars[2]), "q.001", F)
ef.dr.identifier(get(st.split.vars[3]), "q.001", F)
ef.dr.identifier(get(st.split.vars[4]), "q.001", F)
knitr::opts_chunk$set(echo = TRUE)
source("Scripts/Initiator.R")
hist(apply(df.NA.to.val(prism.clean, 2, "median"), 2, mean), breaks=20, main="Drug Efficacy across Pancreatic Cancer Cell Lines", xlab="Mean Logfold Drug Effect on Cell Growth", ylab="Number of Drugs")
#ef.caller(threshold = c(-7.3, -7, -7, -8, -7.5, -7.5), greaterthan = F, addat = c("prism.clean", "pancan.clean"))
ef.dr.identifier(prism.clean, "q.001", greaterthan =  F)
ef.dr.identifier(pancan.clean, "q.001", F)
ef.dr.identifier(get(st.split.vars[1]), "q.001", F)
ef.dr.identifier(get(st.split.vars[2]), "q.001", F)
knitr::opts_chunk$set(echo = TRUE)
source("Scripts/Initiator.R")
hist(apply(df.NA.to.val(prism.clean, 2, "median"), 2, mean), breaks=20, main="Drug Efficacy across Pancreatic Cancer Cell Lines", xlab="Mean Logfold Drug Effect on Cell Growth", ylab="Number of Drugs")
#ef.caller(threshold = c(-7.3, -7, -7, -8, -7.5, -7.5), greaterthan = F, addat = c("prism.clean", "pancan.clean"))
ef.dr.identifier(prism.clean, "q.001", greaterthan =  F)
ef.dr.identifier(pancan.clean, "q.001", F)
ef.dr.identifier(get(st.split.vars[1]), "q.001", F)
ef.dr.identifier(get(st.split.vars[2]), "q.001", F)
threshold <- "q.001"
as.double(substr(threshold, 2, length(threshold)))
threshold <- "q.001"
substr(threshold, 2, length(threshold))
threshold <- "q.001"
substr(threshold, 2, nchar(threshold))
knitr::opts_chunk$set(echo = TRUE)
source("Scripts/Initiator.R")
hist(apply(df.NA.to.val(prism.clean, 2, "median"), 2, mean), breaks=20, main="Drug Efficacy across Pancreatic Cancer Cell Lines", xlab="Mean Logfold Drug Effect on Cell Growth", ylab="Number of Drugs")
#ef.caller(threshold = c(-7.3, -7, -7, -8, -7.5, -7.5), greaterthan = F, addat = c("prism.clean", "pancan.clean"))
ef.dr.identifier(prism.clean, "q.001", greaterthan = F)
ef.dr.identifier(pancan.clean, "q.001", F)
ef.dr.identifier(get(st.split.vars[1]), "q.001", F)
ef.dr.identifier(get(st.split.vars[2]), "q.001", F)
source('~/GitHub/2021-topic-01-team-04/Scripts/Functions.R', echo=TRUE)
knitr::opts_chunk$set(echo = TRUE)
source("Scripts/Initiator.R")
hist(apply(df.NA.to.val(prism.clean, 2, "median"), 2, mean), breaks=20, main="Drug Efficacy across Pancreatic Cancer Cell Lines", xlab="Mean Logfold Drug Effect on Cell Growth", ylab="Number of Drugs")
#ef.caller(threshold = c(-7.3, -7, -7, -8, -7.5, -7.5), greaterthan = F, addat = c("prism.clean", "pancan.clean"))
ef.dr.identifier(prism.clean, "q.001", F)
ef.dr.identifier(pancan.clean, "q.001", F)
ef.dr.identifier(get(st.split.vars[1]), "q.001", F)
ef.dr.identifier(get(st.split.vars[2]), "q.001", F)
knitr::opts_chunk$set(echo = TRUE)
source("Scripts/Initiator.R")
hist(apply(df.NA.to.val(prism.clean, 2, "median"), 2, mean), breaks=20, main="Drug Efficacy across Pancreatic Cancer Cell Lines", xlab="Mean Logfold Drug Effect on Cell Growth", ylab="Number of Drugs")
#ef.caller(threshold = c(-7.3, -7, -7, -8, -7.5, -7.5), greaterthan = F, addat = c("prism.clean", "pancan.clean"))
ef.dr.identifier(prism.clean, "q.001", F)
ef.dr.identifier(pancan.clean, "q.001", F)
ef.dr.identifier(get(st.split.vars[1]), "q.001", F)
ef.dr.identifier(get(st.split.vars[2]), "q.001", F)
View(PanCan.DucAdeCar)
knitr::opts_chunk$set(echo = TRUE)
source("Scripts/Initiator.R")
hist(apply(df.NA.to.val(prism.clean, 2, "median"), 2, mean), breaks=20, main="Drug Efficacy across Pancreatic Cancer Cell Lines", xlab="Mean Logfold Drug Effect on Cell Growth", ylab="Number of Drugs")
#ef.caller(threshold = c(-7.3, -7, -7, -8, -7.5, -7.5), greaterthan = F, addat = c("prism.clean", "pancan.clean"))
ef.dr.identifier(prism.clean, "q.001", TF)
knitr::opts_chunk$set(echo = TRUE)
source("Scripts/Initiator.R")
hist(apply(df.NA.to.val(prism.clean, 2, "median"), 2, mean), breaks=20, main="Drug Efficacy across Pancreatic Cancer Cell Lines", xlab="Mean Logfold Drug Effect on Cell Growth", ylab="Number of Drugs")
#ef.caller(threshold = c(-7.3, -7, -7, -8, -7.5, -7.5), greaterthan = F, addat = c("prism.clean", "pancan.clean"))
ef.dr.identifier(prism.clean, "q.001", F)
ef.dr.identifier(pancan.clean, "q.001", F)
ef.dr.identifier(get(st.split.vars[1]), "q.001", F)
ef.dr.identifier(get(st.split.vars[2]), "q.001", F)
ef.dr.identifier(get(st.split.vars[3]), "q.001", F)
ef.dr.identifier(get(st.split.vars[4]), "q.001", F)
knitr::opts_chunk$set(echo = TRUE)
source("Scripts/Initiator.R")
hist(apply(df.NA.to.val(prism.clean, 2, "median"), 2, mean), breaks=20, main="Drug Efficacy across Pancreatic Cancer Cell Lines", xlab="Mean Logfold Drug Effect on Cell Growth", ylab="Number of Drugs")
#ef.caller(threshold = c(-7.3, -7, -7, -8, -7.5, -7.5), greaterthan = F, addat = c("prism.clean", "pancan.clean"))
ef.dr.identifier(prism.clean, "q.001", F)
ef.dr.identifier(pancan.clean, "q.001", F)
ef.dr.identifier(get(st.split.vars[1]), "q.001", F)
ef.dr.identifier(get(st.split.vars[2]), "q.001", F)
ef.dr.identifier(get(st.split.vars[3]), "q.001", F)
ef.dr.identifier(get(st.split.vars[4]), "q.001", F)
knitr::opts_chunk$set(echo = TRUE)
source("Scripts/Initiator.R")
hist(apply(df.NA.to.val(prism.clean, 2, "median"), 2, mean), breaks=20, main="Drug Efficacy across Pancreatic Cancer Cell Lines", xlab="Mean Logfold Drug Effect on Cell Growth", ylab="Number of Drugs")
#ef.caller(threshold = c(-7.3, -7, -7, -8, -7.5, -7.5), greaterthan = F, addat = c("prism.clean", "pancan.clean"))
ef.dr.identifier(prism.clean, "q.001", F)
ef.dr.identifier(pancan.clean, "q.001", F)
ef.dr.identifier(get(st.split.vars[1]), "q.001", F)
ef.dr.identifier(get(st.split.vars[2]), "q.001", F)
ef.dr.identifier(get(st.split.vars[3]), "q.001", F)
ef.dr.identifier(get(st.split.vars[4]), "q.001", F)
knitr::opts_chunk$set(echo = TRUE)
source("Scripts/Initiator.R")
hist(apply(df.NA.to.val(prism.clean, 2, "median"), 2, mean), breaks=20, main="Drug Efficacy across Pancreatic Cancer Cell Lines", xlab="Mean Logfold Drug Effect on Cell Growth", ylab="Number of Drugs")
#ef.caller(threshold = c(-7.3, -7, -7, -8, -7.5, -7.5), greaterthan = F, addat = c("prism.clean", "pancan.clean"))
ef.dr.identifier(prism.clean, "q.001", F)
ef.dr.identifier(pancan.clean, "q.001", F)
ef.dr.identifier(get(st.split.vars[1]), "q.001", F)
ef.dr.identifier(get(st.split.vars[2]), "q.001", F)
ef.dr.identifier(get(st.split.vars[3]), "q.001", F)
ef.dr.identifier(get(st.split.vars[4]), "q.001", F)
knitr::opts_chunk$set(echo = TRUE)
source("Scripts/Initiator.R")
hist(apply(df.NA.to.val(prism.clean, 2, "median"), 2, mean), breaks=20, main="Drug Efficacy across Pancreatic Cancer Cell Lines", xlab="Mean Logfold Drug Effect on Cell Growth", ylab="Number of Drugs")
#ef.caller(threshold = c(-7.3, -7, -7, -8, -7.5, -7.5), greaterthan = F, addat = c("prism.clean", "pancan.clean"))
ef.dr.identifier(prism.clean, "q.001", F)
ef.dr.identifier(pancan.clean, "q.001", F)
ef.dr.identifier(get(st.split.vars[1]), "q.001", F)
ef.dr.identifier(get(st.split.vars[2]), "q.001", F)
ef.dr.identifier(get(st.split.vars[3]), "q.001", F)
ef.dr.identifier(get(st.split.vars[4]), "q.001", F)
apply(prism.clean, 2, mean, na.rm = T)
PanCan.DucAdeCar
typeof(PanCan.DucAdeCar)
typeof(apply(prism.clean, 2, mean, na.rm = T))
as.double(PanCan.DucAdeCar)
names(as.double(PanCan.DucAdeCar))
lapply(PanCan.DucAdeCar, as.double)
typeof(lapply(PanCan.DucAdeCar, as.double))
knitr::opts_chunk$set(echo = TRUE)
source("Scripts/Initiator.R")
hist(apply(df.NA.to.val(prism.clean, 2, "median"), 2, mean), breaks=20, main="Drug Efficacy across Pancreatic Cancer Cell Lines", xlab="Mean Logfold Drug Effect on Cell Growth", ylab="Number of Drugs")
#ef.caller(threshold = c(-7.3, -7, -7, -8, -7.5, -7.5), greaterthan = F, addat = c("prism.clean", "pancan.clean"))
ef.dr.identifier(prism.clean, "q.001", F)
ef.dr.identifier(pancan.clean, "q.001", F)
ef.dr.identifier(get(st.split.vars[1]), "q.001", F)
ef.dr.identifier(get(st.split.vars[2]), "q.001", F)
knitr::opts_chunk$set(echo = TRUE)
source("Scripts/Initiator.R")
hist(apply(df.NA.to.val(prism.clean, 2, "median"), 2, mean), breaks=20, main="Drug Efficacy across Pancreatic Cancer Cell Lines", xlab="Mean Logfold Drug Effect on Cell Growth", ylab="Number of Drugs")
#ef.caller(threshold = c(-7.3, -7, -7, -8, -7.5, -7.5), greaterthan = F, addat = c("prism.clean", "pancan.clean"))
ef.dr.identifier(prism.clean, "q.001", F)
ef.dr.identifier(pancan.clean, "q.001", F)
ef.dr.identifier(get(st.split.vars[1]), "q.001", F)
ef.dr.identifier(get(st.split.vars[2]), "q.001", F)
ef.dr.identifier(get(st.split.vars[3]), "q.001", F)
ef.dr.identifier(get(st.split.vars[4]), "q.001", F)
knitr::opts_chunk$set(echo = TRUE)
source("Scripts/Initiator.R")
hist(apply(df.NA.to.val(prism.clean, 2, "median"), 2, mean), breaks=20, main="Drug Efficacy across Pancreatic Cancer Cell Lines", xlab="Mean Logfold Drug Effect on Cell Growth", ylab="Number of Drugs")
#ef.caller(threshold = c(-7.3, -7, -7, -8, -7.5, -7.5), greaterthan = F, addat = c("prism.clean", "pancan.clean"))
ef.dr.identifier(prism.clean, "q.001", F)
ef.dr.identifier(pancan.clean, "q.001", F)
ef.dr.identifier(get(st.split.vars[1]), "q.001", F)
ef.dr.identifier(get(st.split.vars[2]), "q.001", F)
ef.dr.identifier(get(st.split.vars[3]), "q.001", F)
ef.dr.identifier(get(st.split.vars[4]), "q.001", F)
knitr::opts_chunk$set(echo = TRUE)
source("Scripts/Initiator.R")
hist(apply(df.NA.to.val(prism.clean, 2, "median"), 2, mean), breaks=20, main="Drug Efficacy across Pancreatic Cancer Cell Lines", xlab="Mean Logfold Drug Effect on Cell Growth", ylab="Number of Drugs")
#ef.caller(threshold = c(-7.3, -7, -7, -8, -7.5, -7.5), greaterthan = F, addat = c("prism.clean", "pancan.clean"))
ef.dr.identifier(prism.clean, "q.001", F)
ef.dr.identifier(pancan.clean, "q.001", F)
ef.dr.identifier(get(st.split.vars[1]), "q.001", F)
ef.dr.identifier(get(st.split.vars[2]), "q.001", F)
ef.dr.identifier(get(st.split.vars[3]), "q.001", F)
ef.dr.identifier(get(st.split.vars[4]), "q.001", F)
View(prism.treat)
l.drugs <- unique(prism.treat[, "name"])
id <- lapply(l.drugs, function(x) {which(prism.treat[, "nam2"] == x)})
l.drugs <- unique(prism.treat[, "name"])
id <- lapply(l.drugs, function(x) {which(prism.treat[, "name"] == x)})
id
id
rm(id)
rm(list = list(l.drugs))
rm(list = list("l.drugs"))
rm(l.drugs)
l.drugs <- unique(prism.treat[, "name"])
id <- lapply(l.drugs, function(x) {which(prism.treat[, "name"] == x)})
id <- prism.treat[id, "broad_id"]
l.drugs <- unique(prism.treat[, "name"])
id <- lapply(l.drugs, function(x) {which(prism.treat[, "name"] == x)})
id <- lapply(id, function(x) {prism.treat[x, "broad_id"]})
id
l.drugs <- unique(prism.treat[, "name"])
id <- lapply(l.drugs, function(x) {which(prism.treat[, "name"] == x)})
length(id)
id <- lapply(id, function(x) {prism.treat[x, "broad_id"]})
length(id)
l.drugs <- unique(prism.treat[, "name"])
id <- lapply(l.drugs, function(x) {which(prism.treat[, "name"] == x)})
id <- lapply(id, function(x) {prism.treat[x, "broad_id"]})
X.doscor <- lapply(id, function(x){mean(X[,x])})
l.drugs <- unique(prism.treat[, "name"])
id <- lapply(l.drugs, function(x) {which(prism.treat[, "name"] == x)})
id <- lapply(id, function(x) {prism.treat[x, "broad_id"]})
X.doscor <- lapply(id, function(x){mean(prism.clean[,x])})
warnings()
l.drugs <- unique(prism.treat[, "name"])
id <- lapply(l.drugs, function(x) {which(prism.treat[, "name"] == x)})
id <- lapply(id, function(x) {prism.treat[x, "broad_id"]})
X.doscor <- lapply(id, function(x){mean(X[, x], na.rm = T)})
l.drugs <- unique(prism.treat[, "name"])
id <- lapply(l.drugs, function(x) {which(prism.treat[, "name"] == x)})
id <- lapply(id, function(x) {prism.treat[x, "broad_id"]})
X.doscor <- lapply(id, function(x){mean(prism.clean[, x], na.rm = T)})
l.drugs <- unique(prism.treat[, "name"])
id <- lapply(l.drugs, function(x) {which(prism.treat[, "name"] == x)})
id <- lapply(id, function(x) {prism.treat[x, "broad_id"]})
X.doscor <- lapply(id, function(x){mean(as.double(prism.clean[, x]), na.rm = T)})
l.drugs <- unique(prism.treat[, "name"])
id <- lapply(l.drugs, function(x) {which(prism.treat[, "name"] == x)})
id <- lapply(id, function(x) {prism.treat[x, "broad_id"]})
X.doscor <- lapply(id, function(x){mean(prism.clean[, x], na.rm = T)})
View(X.doscor)
rm(l.drugs)
rm(id)
rm(X.doscor)
View(prism.treat)
prism.clean[, "BRD-U25960968-000-01-9::0.000610351569230769::HTS002"]
l.drugs <- unique(prism.treat[, "name"])
id <- lapply(l.drugs, function(x) {which(prism.treat[, "name"] == x)})
id <- lapply(id, function(x) {prism.treat[x, "broad_id"]})
X.doscor <- data.frame()
for (i in 1:length(id)) {
n <- id[i]
x <- prism.clean[, n]
x <- as.vector(apply(x, 1, mean, na.rm = T))
X.doscor <- data.frame(X.doscor, x)
colnames(X.doscor)[i] <- prism.treat[n[1], "name"]
}
l.drugs <- unique(prism.treat[, "name"])
id <- lapply(l.drugs, function(x) {which(prism.treat[, "name"] == x)})
id <- lapply(id, function(x) {prism.treat[x, "broad_id"]})
X.doscor <- data.frame()
for (i in 1:length(id)) {
n <- id[i]
x <- prism.clean[, n]
x <- as.vector(apply(x, 1, mean, na.rm = T))
X.doscor <- data.frame(X.doscor, x)
colnames(X.doscor[, i]) <- prism.treat[n[1], "name"]
}
l.drugs <- unique(prism.treat[, "name"])
id <- lapply(l.drugs, function(x) {which(prism.treat[, "name"] == x)})
id <- lapply(id, function(x) {prism.treat[x, "broad_id"]})
X.doscor <- data.frame()
for (i in 1:length(id)) {
n <- unlist(id[i])
x <- prism.clean[, n]
x <- as.vector(apply(x, 1, mean, na.rm = T))
X.doscor <- data.frame(X.doscor, x)
colnames(X.doscor)[i] <- prism.treat[n[1], "name"]
}
l.drugs <- unique(prism.treat[, "name"])
id <- lapply(l.drugs, function(x) {which(prism.treat[, "name"] == x)})
id <- lapply(id, function(x) {prism.treat[x, "broad_id"]})
X.names <- c()
for (i in 1:length(id)) {
n <- id[i]
x <- X[, n]
X.names <- append(X.names, paste("X.doscor.", i, sep = ""))
assign(x.names[i], as.vector(apply(x, 1, mean, na.rm = T)))
}
X.doscor <- data.frame(mget(X.names))
colnames(X.doscor) <- l.drugs
View(X.doscor)
l.drugs <- unique(prism.treat[, "name"])
id <- lapply(l.drugs, function(x) {which(prism.treat[, "name"] == x)})
id <- lapply(id, function(x) {prism.treat[x, "broad_id"]})
X.names <- c()
for (i in 1:length(id)) {
n <- id[i]
x <- prism.clean[, n]
X.names <- append(X.names, paste("X.doscor.", i, sep = ""))
assign(x.names[i], as.vector(apply(x, 1, mean, na.rm = T)))
}
X.doscor <- data.frame(mget(X.names))
colnames(X.doscor) <- l.drugs
View(X.doscor)
l.drugs <- unique(prism.treat[, "name"])
id <- lapply(l.drugs, function(x) {which(prism.treat[, "name"] == x)})
id <- lapply(id, function(x) {prism.treat[x, "broad_id"]})
X.names <- c()
for (i in 1:length(id)) {
n <- unlist(id[i])
x <- prism.clean[, n]
X.names <- append(X.names, paste("X.doscor.", i, sep = ""))
assign(x.names[i], as.vector(apply(x, 1, mean, na.rm = T)))
}
X.doscor <- data.frame(mget(X.names))
colnames(X.doscor) <- l.drugs
l.drugs <- unique(prism.treat[, "name"])
id <- lapply(l.drugs, function(x) {which(prism.treat[, "name"] == x)})
id <- lapply(id, function(x) {prism.treat[x, "broad_id"]})
X.names <- c()
for (i in 1:length(id)) {
n <- unlist(id[i])
x <- prism.clean[, n]
X.names <- append(X.names, paste("X.doscor.", i, sep = ""))
assign(X.names[i], as.vector(apply(x, 1, mean, na.rm = T)))
}
X.doscor <- data.frame(mget(X.names))
colnames(X.doscor) <- l.drugs
View(X.doscor)
l.drugs <- unique(prism.treat[, "name"])
id <- sapply(l.drugs, function(x) which(prism.treat[, "name"] == x))
id <- sapply(id, function(x) prism.treat[x, "broad_id"])
sapply(id, function(x) x[1])
knitr::opts_chunk$set(echo = TRUE)
source("Scripts/Initiator.R")
hist(apply(df.NA.to.val(prism.clean, 2, "median"), 2, mean), breaks=20, main="Drug Efficacy across Pancreatic Cancer Cell Lines", xlab="Mean Logfold Drug Effect on Cell Growth", ylab="Number of Drugs")
#ef.caller(threshold = c(-7.3, -7, -7, -8, -7.5, -7.5), greaterthan = F, addat = c("prism.clean", "pancan.clean"))
ef.dr.identifier(prism.clean, "q.001", F)
ef.dr.identifier(pancan.clean, "q.001", F)
ef.dr.identifier(get(st.split.vars[1]), "q.001", F)
ef.dr.identifier(get(st.split.vars[2]), "q.001", F)
ef.dr.identifier(get(st.split.vars[3]), "q.001", F)
ef.dr.identifier(get(st.split.vars[4]), "q.001", F)
knitr::opts_chunk$set(echo = TRUE)
source("Scripts/Initiator.R")
hist(apply(df.NA.to.val(prism.clean, 2, "median"), 2, mean), breaks=20, main="Drug Efficacy across Pancreatic Cancer Cell Lines", xlab="Mean Logfold Drug Effect on Cell Growth", ylab="Number of Drugs")
#ef.caller(threshold = c(-7.3, -7, -7, -8, -7.5, -7.5), greaterthan = F, addat = c("prism.clean", "pancan.clean"))
ef.dr.identifier(prism.clean, "q.001", F, doscor = T)
ef.dr.identifier(pancan.clean, "q.001", F, doscor = T)
ef.dr.identifier(get(st.split.vars[1]), "q.001", F, doscor = T)
ef.dr.identifier(get(st.split.vars[2]), "q.001", F, doscor = T)
ef.dr.identifier(get(st.split.vars[3]), "q.001", F, doscor = T)
ef.dr.identifier(get(st.split.vars[4]), "q.001", F, doscor = T)
knitr::opts_chunk$set(echo = TRUE)
source("Scripts/Initiator.R")
hist(apply(df.NA.to.val(prism.clean, 2, "median"), 2, mean), breaks=20, main="Drug Efficacy across Pancreatic Cancer Cell Lines", xlab="Mean Logfold Drug Effect on Cell Growth", ylab="Number of Drugs")
#ef.caller(threshold = c(-7.3, -7, -7, -8, -7.5, -7.5), greaterthan = F, addat = c("prism.clean", "pancan.clean"))
ef.dr.identifier(prism.clean, "q.001", F, doscor = T)
ef.dr.identifier(pancan.clean, "q.001", F, doscor = T)
ef.dr.identifier(get(st.split.vars[1]), "q.001", F, doscor = T)
ef.dr.identifier(get(st.split.vars[2]), "q.001", F, doscor = T)
ef.dr.identifier(get(st.split.vars[3]), "q.001", F, doscor = T)
ef.dr.identifier(get(st.split.vars[4]), "q.001", F, doscor = T)
knitr::opts_chunk$set(echo = TRUE)
source("Scripts/Initiator.R")
hist(apply(df.NA.to.val(prism.clean, 2, "median"), 2, mean), breaks=20, main="Drug Efficacy across Pancreatic Cancer Cell Lines", xlab="Mean Logfold Drug Effect on Cell Growth", ylab="Number of Drugs")
#ef.caller(threshold = c(-7.3, -7, -7, -8, -7.5, -7.5), greaterthan = F, addat = c("prism.clean", "pancan.clean"))
ef.dr.identifier(prism.clean, "q.001", F, doscor = T)
ef.dr.identifier(pancan.clean, "q.001", F, doscor = T)
ef.dr.identifier(get(st.split.vars[1]), "q.001", F, doscor = T)
ef.dr.identifier(get(st.split.vars[2]), "q.001", F, doscor = T)
ef.dr.identifier(get(st.split.vars[3]), "q.001", F, doscor = T)
ef.dr.identifier(get(st.split.vars[4]), "q.001", F, doscor = T)
View(prism.treat)
prism.treat["BRD-K25690923-001-02-4", ]
View(prism.treat)
knitr::opts_chunk$set(echo = TRUE)
source("Scripts/Initiator.R")
hist(apply(df.NA.to.val(prism.clean, 2, "median"), 2, mean), breaks=20, main="Drug Efficacy across Pancreatic Cancer Cell Lines", xlab="Mean Logfold Drug Effect on Cell Growth", ylab="Number of Drugs")
#ef.caller(threshold = c(-7.3, -7, -7, -8, -7.5, -7.5), greaterthan = F, addat = c("prism.clean", "pancan.clean"))
ef.dr.identifier(prism.clean, "q.001", F, doscor = T)
ef.dr.identifier(prism.clean, "q.001", F, doscor = T)
knitr::opts_chunk$set(echo = TRUE)
source("Scripts/Initiator.R")
hist(apply(df.NA.to.val(prism.clean, 2, "median"), 2, mean), breaks=20, main="Drug Efficacy across Pancreatic Cancer Cell Lines", xlab="Mean Logfold Drug Effect on Cell Growth", ylab="Number of Drugs")
#ef.caller(threshold = c(-7.3, -7, -7, -8, -7.5, -7.5), greaterthan = F, addat = c("prism.clean", "pancan.clean"))
ef.dr.identifier(prism.clean, "q.001", F, doscor = T)
knitr::opts_chunk$set(echo = TRUE)
source("Scripts/Initiator.R")
hist(apply(df.NA.to.val(prism.clean, 2, "median"), 2, mean), breaks=20, main="Drug Efficacy across Pancreatic Cancer Cell Lines", xlab="Mean Logfold Drug Effect on Cell Growth", ylab="Number of Drugs")
#ef.caller(threshold = c(-7.3, -7, -7, -8, -7.5, -7.5), greaterthan = F, addat = c("prism.clean", "pancan.clean"))
ef.dr.identifier(prism.clean, "q.001", F, doscor = T)
knitr::opts_chunk$set(echo = TRUE)
source("Scripts/Initiator.R")
hist(apply(df.NA.to.val(prism.clean, 2, "median"), 2, mean), breaks=20, main="Drug Efficacy across Pancreatic Cancer Cell Lines", xlab="Mean Logfold Drug Effect on Cell Growth", ylab="Number of Drugs")
#ef.caller(threshold = c(-7.3, -7, -7, -8, -7.5, -7.5), greaterthan = F, addat = c("prism.clean", "pancan.clean"))
ef.dr.identifier(prism.clean, "q.001", F, doscor = T)
knitr::opts_chunk$set(echo = TRUE)
source("Scripts/Initiator.R")
hist(apply(df.NA.to.val(prism.clean, 2, "median"), 2, mean), breaks=20, main="Drug Efficacy across Pancreatic Cancer Cell Lines", xlab="Mean Logfold Drug Effect on Cell Growth", ylab="Number of Drugs")
#ef.caller(threshold = c(-7.3, -7, -7, -8, -7.5, -7.5), greaterthan = F, addat = c("prism.clean", "pancan.clean"))
ef.dr.identifier(prism.clean, "q.001", F, doscor = T)
knitr::opts_chunk$set(echo = TRUE)
source("Scripts/Initiator.R")
hist(apply(df.NA.to.val(prism.clean, 2, "median"), 2, mean), breaks=20, main="Drug Efficacy across Pancreatic Cancer Cell Lines", xlab="Mean Logfold Drug Effect on Cell Growth", ylab="Number of Drugs")
#ef.caller(threshold = c(-7.3, -7, -7, -8, -7.5, -7.5), greaterthan = F, addat = c("prism.clean", "pancan.clean"))
ef.dr.identifier(prism.clean, "q.001", F, doscor = T)
knitr::opts_chunk$set(echo = TRUE)
source("Scripts/Initiator.R")
hist(apply(df.NA.to.val(prism.clean, 2, "median"), 2, mean), breaks=20, main="Drug Efficacy across Pancreatic Cancer Cell Lines", xlab="Mean Logfold Drug Effect on Cell Growth", ylab="Number of Drugs")
#ef.caller(threshold = c(-7.3, -7, -7, -8, -7.5, -7.5), greaterthan = F, addat = c("prism.clean", "pancan.clean"))
ef.dr.identifier(prism.clean, "q.001", F, doscor = T)
ef.dr.identifier(pancan.clean, "q.001", F, doscor = T)
ef.dr.identifier(get(st.split.vars[1]), "q.001", F, doscor = T)
ef.dr.identifier(get(st.split.vars[2]), "q.001", F, doscor = T)
ef.dr.identifier(get(st.split.vars[3]), "q.001", F, doscor = T)
ef.dr.identifier(get(st.split.vars[4]), "q.001", F, doscor = T)
knitr::opts_chunk$set(echo = TRUE)
source("Scripts/Initiator.R")
hist(apply(df.NA.to.val(prism.clean, 2, "median"), 2, mean), breaks=20, main="Drug Efficacy across Pancreatic Cancer Cell Lines", xlab="Mean Logfold Drug Effect on Cell Growth", ylab="Number of Drugs")
#ef.caller(threshold = c(-7.3, -7, -7, -8, -7.5, -7.5), greaterthan = F, addat = c("prism.clean", "pancan.clean"))
ef.dr.identifier(prism.clean, "q.005", F, doscor = T)
ef.dr.identifier(pancan.clean, "q.005", F, doscor = T)
ef.dr.identifier(get(st.split.vars[1]), "q.005", F, doscor = T)
ef.dr.identifier(get(st.split.vars[2]), "q.005", F, doscor = T)
ef.dr.identifier(get(st.split.vars[3]), "q.005", F, doscor = T)
ef.dr.identifier(get(st.split.vars[4]), "q.005T", F, doscor = T)
View(prism.treat)
source('~/GitHub/2021-topic-01-team-04/Scripts/Preloader.R', echo=TRUE)
View(prism.treat.sinonco)
grep("oncology", NA)
grep("oncology", NA, invert = T)
source('~/GitHub/2021-topic-01-team-04/Scripts/Preloader.R', echo=TRUE)
View(prism.treat.sinonco)
knitr::opts_chunk$set(echo = TRUE)
source("Scripts/Initiator.R")
hist(apply(df.NA.to.val(prism.clean, 2, "median"), 2, mean), breaks=20, main="Drug Efficacy across Pancreatic Cancer Cell Lines", xlab="Mean Logfold Drug Effect on Cell Growth", ylab="Number of Drugs")
#ef.caller(threshold = c(-7.3, -7, -7, -8, -7.5, -7.5), greaterthan = F, addat = c("prism.clean", "pancan.clean"))
ef.dr.identifier(prism.clean, "q.005", F, doscor = T)
knitr::opts_chunk$set(echo = TRUE)
source("Scripts/Initiator.R")
hist(apply(df.NA.to.val(prism.clean, 2, "median"), 2, mean), breaks=20, main="Drug Efficacy across Pancreatic Cancer Cell Lines", xlab="Mean Logfold Drug Effect on Cell Growth", ylab="Number of Drugs")
#ef.caller(threshold = c(-7.3, -7, -7, -8, -7.5, -7.5), greaterthan = F, addat = c("prism.clean", "pancan.clean"))
ef.dr.identifier(prism.clean, "q.005", F, doscor = T)
knitr::opts_chunk$set(echo = TRUE)
source("Scripts/Initiator.R")
hist(apply(df.NA.to.val(prism.clean, 2, "median"), 2, mean), breaks=20, main="Drug Efficacy across Pancreatic Cancer Cell Lines", xlab="Mean Logfold Drug Effect on Cell Growth", ylab="Number of Drugs")
#ef.caller(threshold = c(-7.3, -7, -7, -8, -7.5, -7.5), greaterthan = F, addat = c("prism.clean", "pancan.clean"))
ef.dr.identifier(prism.clean, "q.005", F, doscor = T)
ef.dr.identifier(pancan.clean, "q.005", F, doscor = T)
ef.dr.identifier(get(st.split.vars[1]), "q.005", F, doscor = T)
ef.dr.identifier(get(st.split.vars[2]), "q.005", F, doscor = T)
ef.dr.identifier(get(st.split.vars[3]), "q.005", F, doscor = T)
ef.dr.identifier(get(st.split.vars[4]), "q.005T", F, doscor = T)
View(PanCan.Som)
knitr::opts_chunk$set(echo = TRUE)
source("Scripts/Initiator.R")
hist(apply(df.NA.to.val(prism.clean, 2, "median"), 2, mean), breaks=20, main="Drug Efficacy across Pancreatic Cancer Cell Lines", xlab="Mean Logfold Drug Effect on Cell Growth", ylab="Number of Drugs")
#ef.caller(threshold = c(-7.3, -7, -7, -8, -7.5, -7.5), greaterthan = F, addat = c("prism.clean", "pancan.clean"))
ef.dr.identifier(prism.clean, "q.005", F, doscor = T, sinonco = T)
ef.dr.identifier(pancan.clean, "q.005", F, doscor = T, sinonco = T)
ef.dr.identifier(get(st.split.vars[1]), "q.005", F, doscor = T, sinonco = T)
ef.dr.identifier(get(st.split.vars[2]), "q.005", F, doscor = T, sinonco = T)
ef.dr.identifier(get(st.split.vars[3]), "q.005", F, doscor = T, sinonco = T)
ef.dr.identifier(get(st.split.vars[4]), "q.005T", F, doscor = T, sinonco = T)
knitr::opts_chunk$set(echo = TRUE)
source("Scripts/Initiator.R")
hist(apply(df.NA.to.val(prism.clean, 2, "median"), 2, mean), breaks=20, main="Drug Efficacy across Pancreatic Cancer Cell Lines", xlab="Mean Logfold Drug Effect on Cell Growth", ylab="Number of Drugs")
#ef.caller(threshold = c(-7.3, -7, -7, -8, -7.5, -7.5), greaterthan = F, addat = c("prism.clean", "pancan.clean"))
ef.dr.identifier(prism.clean, "q.005", F, doscor = T, sinonco = T)
ef.dr.identifier(pancan.clean, "q.005", F, doscor = T, sinonco = T)
ef.dr.identifier(get(st.split.vars[1]), "q.005", F, doscor = T, sinonco = T)
ef.dr.identifier(get(st.split.vars[2]), "q.005", F, doscor = T, sinonco = T)
ef.dr.identifier(get(st.split.vars[3]), "q.005", F, doscor = T, sinonco = T)
ef.dr.identifier(get(st.split.vars[4]), "q.005", F, doscor = T, sinonco = T)
c(min(prism.treat.sinonco$dose), max(prism.treat.sinonco$dose))
summary(prism.treat.sinonco$dose)
hist(prism.treat.sinonco$dose)
hist(prism.treat.sinonco$dose, breaks = 20)
hist(prism.treat.sinonco$dose, breaks = 50)
kmeans(prism.treat.sinonco$dose, centers = 4)
